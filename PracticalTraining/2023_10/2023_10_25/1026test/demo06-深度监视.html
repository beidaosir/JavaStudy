<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id='app'>
        <h1>{{num.a}}</h1>
        <h1>{{num.b}}</h1>
        <button @click="num.a++">a++</button>
        <button @click="num.b++">b++</button>
        <button @click="changeNum">改变num</button>
    </div>


    <script src="js/vue.global.js"></script>

    <script>
        Vue.createApp({
            data() {
                return {
                    num:{
                        a:0,
                        b:0
                    }
                }
            },
            methods: {
                changeNum(){
                    this.num = {a:2,b:3};
                }
            },

            //计算属性  将num转成一个json字符串
            computed:{
                numStr(){
                    return JSON.stringify(this.num);
                }
            },
            //监视a和b的变化

            watch:{
                numStr(newValue,oldValue){
                    let nn = JSON.parse(newValue);
                    console.log(nn.a,nn.b);
                }

                /* num:{
                    handler(newValue,oldValue){
                        console.log(newValue,oldValue);
                    },
                    //深度监视
                    deep:true
                } */
            }
        }).mount('#app')
    </script>
</body>
</html>