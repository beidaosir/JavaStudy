(function(){"use strict";var s={2589:function(s,e,a){a(560);var t=a(9242),o=a(3396);function i(s,e){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(a)}var l=a(89);const n={},r=(0,l.Z)(n,[["render",i]]);var c=r,d=a(2483),u=a(7139),m=a.p+"assets/img/m2.c9f82e78.jpg";const p={class:"home"},h={class:"app-header"},b=(0,o._)("a",{class:"app-header__logo",href:"index.html"},"不知道吃啥",-1),f=(0,o._)("a",{class:"app-sidebar__toggle",href:"#","data-toggle":"sidebar","aria-label":"Hide Sidebar"},null,-1),g={class:"app-nav"},_={class:"dropdown"},v=(0,o._)("a",{class:"app-nav__item",href:"#","data-toggle":"dropdown","aria-label":"Open Profile Menu"},[(0,o._)("i",{class:"fa fa-user fa-lg"})],-1),w={class:"dropdown-menu settings-menu dropdown-menu-right"},y=(0,o._)("i",{class:"fa fa-sign-out fa-lg"},null,-1),k=(0,o._)("div",{class:"app-sidebar__overlay","data-toggle":"sidebar"},null,-1),L={class:"app-sidebar"},F={class:"app-sidebar__user"},I=(0,o._)("img",{class:"app-sidebar__user-avatar",width:"45px",height:"45px",style:{width:"45px",height:"45px"},src:m,alt:"User Image"},null,-1),C={class:"app-sidebar__user-name"},P={class:"app-content"};function x(s,e,a,t,i,l){const n=(0,o.up)("admin-menu"),r=(0,o.up)("business-menu"),c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("header",h,[b,f,(0,o._)("ul",g,[(0,o._)("li",_,[v,(0,o._)("ul",w,[(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"javascript:;",onClick:e[0]||(e[0]=(...s)=>l.logout&&l.logout(...s))},[y,(0,o.Uk)(" 退出 ")])])])])])]),k,(0,o._)("aside",L,[(0,o._)("div",F,[I,(0,o._)("div",null,[(0,o._)("p",C,(0,u.zw)(l.loginUserName),1)])]),(0,o._)("div",null,["manager"==i.loginUser.role?((0,o.wg)(),(0,o.j4)(n,{key:0})):"business"==i.loginUser.role?((0,o.wg)(),(0,o.j4)(r,{key:1})):(0,o.kq)("",!0)])]),(0,o._)("main",P,[(0,o.Wm)(c)])])}const U={class:"app-menu"},N=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"欢迎页面")],-1),A=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"商家管理")],-1),D=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"商品管理")],-1),O=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"用户管理")],-1),S=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"个人信息")],-1);function j(s,e,a,t,i,l){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("ul",U,[(0,o._)("li",null,[(0,o.Wm)(n,{to:"/welcome"},{default:(0,o.w5)((()=>[N])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/business"},{default:(0,o.w5)((()=>[A])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/temp"},{default:(0,o.w5)((()=>[D])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/temp"},{default:(0,o.w5)((()=>[O])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/temp"},{default:(0,o.w5)((()=>[S])),_:1})])])}var M={name:"AdminMenu"};const B=(0,l.Z)(M,[["render",j]]);var V=B;const E={class:"app-menu"},z=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"欢迎页面")],-1),R=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"餐品管理")],-1),J=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"订单管理")],-1),W=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"顾客管理")],-1),T=(0,o._)("a",{class:"app-menu__item active",href:"javascript:;"},[(0,o._)("i",{class:"app-menu__icon fa fa-dashboard"}),(0,o._)("span",{class:"app-menu__label"},"商家信息")],-1);function H(s,e,a,t,i,l){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("ul",E,[(0,o._)("li",null,[(0,o.Wm)(n,{to:"/welcome"},{default:(0,o.w5)((()=>[z])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/food"},{default:(0,o.w5)((()=>[R])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/temp"},{default:(0,o.w5)((()=>[J])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/temp"},{default:(0,o.w5)((()=>[W])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(n,{to:"/editbusiness"},{default:(0,o.w5)((()=>[T])),_:1})])])}var Z={name:"BusinessMenu"};const K=(0,l.Z)(Z,[["render",H]]);var Y=K,$={name:"HomeView",components:{AdminMenu:V,BusinessMenu:Y},data(){return{loginUser:{}}},mounted(){this.loginUser=JSON.parse(localStorage.getItem("loginUser"))},computed:{loginUserName(){return"manager"==this.loginUser.role?this.loginUser.account:"business"==this.loginUser.role?this.loginUser.businessAccount:""}},methods:{logout(){localStorage.removeItem("loginUser"),this.$router.push("/login")}}};const q=(0,l.Z)($,[["render",x]]);var G=q;const Q=(0,o.uE)('<div class="app-title"><div><h1><i class="fa fa-dashboard"></i> Dashboard</h1><p>A free and open source Bootstrap 4 admin template</p></div><ul class="app-breadcrumb breadcrumb"><li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li><li class="breadcrumb-item"><a href="#">Dashboard</a></li></ul></div><div class="row"><div class="col-md-6 col-lg-3"><div class="widget-small primary coloured-icon"><i class="icon fa fa-users fa-3x"></i><div class="info"><h4>Users</h4><p><b>5</b></p></div></div></div><div class="col-md-6 col-lg-3"><div class="widget-small info coloured-icon"><i class="icon fa fa-thumbs-o-up fa-3x"></i><div class="info"><h4>Likes</h4><p><b>25</b></p></div></div></div><div class="col-md-6 col-lg-3"><div class="widget-small warning coloured-icon"><i class="icon fa fa-files-o fa-3x"></i><div class="info"><h4>Uploades</h4><p><b>10</b></p></div></div></div><div class="col-md-6 col-lg-3"><div class="widget-small danger coloured-icon"><i class="icon fa fa-star fa-3x"></i><div class="info"><h4>Stars</h4><p><b>500</b></p></div></div></div></div><div class="row"><div class="col-md-6"><div class="tile"><h3 class="tile-title">Monthly Sales</h3><div class="embed-responsive embed-responsive-16by9"><canvas class="embed-responsive-item" id="lineChartDemo"></canvas></div></div></div><div class="col-md-6"><div class="tile"><h3 class="tile-title">Support Requests</h3><div class="embed-responsive embed-responsive-16by9"><canvas class="embed-responsive-item" id="pieChartDemo"></canvas></div></div></div></div>',3);function X(s,e,a,t,o,i){return Q}var ss={name:"Welcome",methods:{huizhi(){var s={labels:["January","February","March","April","May"],datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[65,59,80,81,56]},{label:"My Second dataset",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[28,48,40,19,86]}]},e=[{value:300,color:"#46BFBD",highlight:"#5AD3D1",label:"Complete"},{value:50,color:"#F7464A",highlight:"#FF5A5E",label:"In-Progress"}],a=document.getElementById("lineChartDemo").getContext("2d"),t=(new Chart(a).Line(s),document.getElementById("pieChartDemo").getContext("2d"));new Chart(t).Pie(e)}},mounted(){this.huizhi()}};const es=(0,l.Z)(ss,[["render",X]]);var as=es;const ts={class:"table table-striped",style:{"background-color":"white"}},os={scope:"col"},is=["checked"],ls=(0,o._)("th",{scope:"col"},"序号",-1),ns=(0,o._)("th",{scope:"col"},"商家账号",-1),rs=(0,o._)("th",{scope:"col"},"商家名称",-1),cs=(0,o._)("th",{scope:"col"},"商家地址",-1),ds=(0,o._)("th",{scope:"col"},"商家简介",-1),us=(0,o._)("th",{scope:"col"},"起送费",-1),ms=(0,o._)("th",{scope:"col"},"配送费",-1),ps=(0,o._)("th",{scope:"col"},"操作",-1),hs={scope:"col"},bs=["checked","value"],fs={scope:"row"},gs=["onClick"],_s=["onClick"],vs={"aria-label":"Page navigation example"},ws={class:"pagination justify-content-end"},ys=["onClick"],ks={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ls={class:"modal-dialog"},Fs={class:"modal-content"},Is={class:"modal-header"},Cs={class:"modal-title",id:"exampleModalLabel"},Ps=(0,o._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,o._)("span",{"aria-hidden":"true"},"×")],-1),xs={class:"modal-body"},Us={class:"form-group row"},Ns=(0,o._)("label",{for:"account",class:"col-sm-3 col-form-label"},"商家账号",-1),As={class:"col-sm-9"},Ds={class:"form-group row"},Os=(0,o._)("label",{for:"name",class:"col-sm-3 col-form-label"},"商家名称",-1),Ss={class:"col-sm-9"},js={class:"form-group row"},Ms=(0,o._)("label",{for:"address",class:"col-sm-3 col-form-label"},"商家地址",-1),Bs={class:"col-sm-9"},Vs={class:"form-group row"},Es=(0,o._)("label",{for:"info",class:"col-sm-3 col-form-label"},"商家简介",-1),zs={class:"col-sm-9"},Rs={class:"form-group row"},Js=(0,o._)("label",{for:"startprice",class:"col-sm-3 col-form-label"},"起送价",-1),Ws={class:"col-sm-9"},Ts={class:"form-group row"},Hs=(0,o._)("label",{for:"sendprice",class:"col-sm-3 col-form-label"},"配送费",-1),Zs={class:"col-sm-9"},Ks={class:"modal-footer"},Ys=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"关闭",-1);function $s(s,e,a,i,l,n){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h2",null,(0,u.zw)(l.title),1),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",style:{width:"200px",display:"inline-block"},placeholder:"请输入商家账号","onUpdate:modelValue":e[0]||(e[0]=s=>l.searchForm.businessAccount=s)},null,512),[[t.nr,l.searchForm.businessAccount,void 0,{trim:!0}]]),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",style:{width:"200px",display:"inline-block"},placeholder:"请输入商家名称","onUpdate:modelValue":e[1]||(e[1]=s=>l.searchForm.businessName=s)},null,512),[[t.nr,l.searchForm.businessName,void 0,{trim:!0}]]),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=(...s)=>n.search&&n.search(...s))},"搜索"),(0,o._)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal",onClick:e[3]||(e[3]=(...s)=>n.showAddDialog&&n.showAddDialog(...s))}," 添加商家信息 "),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...s)=>n.delMany&&n.delMany(...s))},"批量删除"),(0,o._)("table",ts,[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",os,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=s=>l.allcheck=s),checked:l.checkIds.length==n.currentPageList.length&&0!=l.checkIds.length},null,8,is),[[t.e8,l.allcheck]])]),ls,ns,rs,cs,ds,us,ms,ps])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.currentPageList,((s,a)=>((0,o.wg)(),(0,o.iD)("tr",{key:s.businessId},[(0,o._)("th",hs,[(0,o.wy)((0,o._)("input",{type:"checkbox",checked:l.allcheck,"onUpdate:modelValue":e[6]||(e[6]=s=>l.checkIds=s),value:s.businessId},null,8,bs),[[t.e8,l.checkIds]])]),(0,o._)("th",fs,(0,u.zw)(a+1),1),(0,o._)("td",null,(0,u.zw)(s.businessAccount),1),(0,o._)("td",null,(0,u.zw)(s.businessName),1),(0,o._)("td",null,(0,u.zw)(s.businessAddress),1),(0,o._)("td",null,(0,u.zw)(s.businessInfo),1),(0,o._)("td",null,"￥"+(0,u.zw)(s.startPrice),1),(0,o._)("td",null,"￥"+(0,u.zw)(s.sendPrice),1),(0,o._)("td",null,[(0,o._)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal",onClick:e=>n.showUpdateDialog(s.businessId)},"修改",8,gs),(0,o._)("button",{type:"button",class:"btn btn-link",onClick:e=>n.del(s.businessId,!0)},"删除",8,_s)])])))),128))])]),(0,o._)("nav",vs,[(0,o._)("ul",ws,[(0,o._)("li",{class:(0,u.C_)({"page-item":!0,disabled:1==l.currentPage})},[(0,o._)("a",{class:"page-link",href:"javascript:;",onClick:e[7]||(e[7]=s=>n.changeCurrentPage(l.currentPage-1))},"Previous")],2),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.totalPages,((s,e)=>((0,o.wg)(),(0,o.iD)("li",{class:(0,u.C_)({"page-item":!0,disabled:l.currentPage==s}),key:e},[(0,o._)("a",{class:"page-link",href:"javascript:;",onClick:e=>n.changeCurrentPage(s)},(0,u.zw)(s),9,ys)],2)))),128)),(0,o._)("li",{class:(0,u.C_)({"page-item":!0,disabled:l.currentPage==n.totalPages})},[(0,o._)("a",{class:"page-link",href:"javascript:;",onClick:e[8]||(e[8]=s=>n.changeCurrentPage(l.currentPage+1))},"Next")],2)])]),(0,o._)("div",ks,[(0,o._)("div",Ls,[(0,o._)("div",Fs,[(0,o._)("div",Is,[(0,o._)("h5",Cs,(0,u.zw)(l.dialogTitle),1),Ps]),(0,o._)("div",xs,[(0,o._)("form",null,[(0,o._)("div",Us,[Ns,(0,o._)("div",As,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"account","onUpdate:modelValue":e[9]||(e[9]=s=>l.businessForm.businessAccount=s)},null,512),[[t.nr,l.businessForm.businessAccount,void 0,{trim:!0}]])])]),(0,o._)("div",Ds,[Os,(0,o._)("div",Ss,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":e[10]||(e[10]=s=>l.businessForm.businessName=s)},null,512),[[t.nr,l.businessForm.businessName,void 0,{trim:!0}]])])]),(0,o._)("div",js,[Ms,(0,o._)("div",Bs,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"address","onUpdate:modelValue":e[11]||(e[11]=s=>l.businessForm.businessAddress=s)},null,512),[[t.nr,l.businessForm.businessAddress,void 0,{trim:!0}]])])]),(0,o._)("div",Vs,[Es,(0,o._)("div",zs,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"info","onUpdate:modelValue":e[12]||(e[12]=s=>l.businessForm.businessInfo=s)},null,512),[[t.nr,l.businessForm.businessInfo,void 0,{trim:!0}]])])]),(0,o._)("div",Rs,[Js,(0,o._)("div",Ws,[(0,o.wy)((0,o._)("input",{type:"number",min:"0",class:"form-control",id:"startprice","onUpdate:modelValue":e[13]||(e[13]=s=>l.businessForm.startPrice=s)},null,512),[[t.nr,l.businessForm.startPrice,void 0,{number:!0}]])])]),(0,o._)("div",Ts,[Hs,(0,o._)("div",Zs,[(0,o.wy)((0,o._)("input",{type:"number",min:"0",class:"form-control",id:"sendprice","onUpdate:modelValue":e[14]||(e[14]=s=>l.businessForm.sendPrice=s)},null,512),[[t.nr,l.businessForm.sendPrice,void 0,{number:!0}]])])])])]),(0,o._)("div",Ks,[Ys,(0,o._)("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:e[15]||(e[15]=(...s)=>n.addOrUpdate&&n.addOrUpdate(...s))},(0,u.zw)(l.saveBt),1)])])])])])}var qs=a(691),Gs={name:"Business",data(){return{title:"商家信息管理",currentPage:1,pageNumber:5,businessList:[],dialogTitle:"添加商家信息",saveBt:"确认添加",businessForm:{businessAccount:"",businessName:"",businessAddress:"",businessInfo:"",startPrice:0,sendPrice:0},allcheck:!1,checkIds:[],searchForm:{businessAccount:"",businessName:""},showList:[]}},watch:{allcheck(s){this.checkIds=[],s&&this.currentPageList.forEach((s=>{this.checkIds.push(s.businessId)}))}},methods:{search(){this.searchForm.businessAccount||this.searchForm.businessName?(this.showList=this.businessList.filter((s=>s.businessAccount.indexOf(this.searchForm.businessAccount)>=0&&s.businessName.indexOf(this.searchForm.businessName)>=0)),console.log(this.showList)):this.showList=this.businessList},delMany(){0!=this.checkIds.length?confirm("您确定要删除这"+this.checkIds.length+"项吗？")&&this.checkIds.forEach((s=>{this.del(s,!1)})):alert("没有任何选中项，无法删除")},addOrUpdate(){this.businessForm.businessId?this.update():this.add(),window.localStorage.setItem("businessList",JSON.stringify(this.businessList))},showUpdateDialog(s){this.dialogTitle="修改商家信息",this.saveBt="确认修改";let e=this.businessList.find((e=>e.businessId==s));Object.assign(this.businessForm,e),console.log(this.businessForm)},showAddDialog(){this.dialogTitle="添加商家信息",this.saveBt="确认添加",this.businessForm={businessAccount:"",businessName:"",businessAddress:"",businessInfo:"",startPrice:0,sendPrice:0}},changeCurrentPage(s){s<1||s>this.totalPages||(this.currentPage=s)},add(){let s=Object.assign({},this.businessForm);s.businessId=(0,qs.x0)(),s.datetime=Date.now(),s.password="111111",s.role="business",this.businessList.push(s)},del(s,e){e?confirm("您确定要删除吗？")&&(this.businessList=this.businessList.filter((e=>e.businessId!=s)),window.localStorage.setItem("businessList",JSON.stringify(this.businessList))):(this.businessList=this.businessList.filter((e=>e.businessId!=s)),window.localStorage.setItem("businessList",JSON.stringify(this.businessList)))},update(){this.businessList.forEach((s=>{s.businessId!=this.businessForm.businessId||Object.assign(s,this.businessForm)}))}},computed:{currentPageList(){let s=(this.currentPage-1)*this.pageNumber,e=s+this.pageNumber;return this.showList.sort((function(s,e){return console.log(s,e),e.datetime-s.datetime})),this.showList.slice(s,e)},totalRows(){return this.showList.length},totalPages(){return Math.ceil(this.totalRows/this.pageNumber)}},mounted(){let s=window.localStorage.getItem("businessList");s&&(this.businessList=JSON.parse(s),this.showList=this.businessList)}};const Qs=(0,l.Z)(Gs,[["render",$s]]);var Xs=Qs;const se={class:"table table-striped",style:{"background-color":"white"}},ee={scope:"col"},ae=["checked"],te=(0,o._)("th",{scope:"col"},"序号",-1),oe=(0,o._)("th",{scope:"col"},"餐品编号",-1),ie=(0,o._)("th",{scope:"col"},"餐品名称",-1),le=(0,o._)("th",{scope:"col"},"餐品价格",-1),ne=(0,o._)("th",{scope:"col"},"操作",-1),re={scope:"col"},ce=["checked","value"],de={scope:"row"},ue=["onClick"],me=["onClick"],pe={"aria-label":"Page navigation example"},he={class:"pagination justify-content-end"},be=["onClick"],fe={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ge={class:"modal-dialog"},_e={class:"modal-content"},ve={class:"modal-header"},we={class:"modal-title",id:"exampleModalLabel"},ye=(0,o._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,o._)("span",{"aria-hidden":"true"},"×")],-1),ke={class:"modal-body"},Le={class:"form-group row"},Fe=(0,o._)("label",{for:"account",class:"col-sm-3 col-form-label"},"商品编号",-1),Ie={class:"col-sm-9"},Ce={class:"form-group row"},Pe=(0,o._)("label",{for:"name",class:"col-sm-3 col-form-label"},"商品名称",-1),xe={class:"col-sm-9"},Ue={class:"form-group row"},Ne=(0,o._)("label",{for:"foodprice",class:"col-sm-3 col-form-label"},"价格",-1),Ae={class:"col-sm-9"},De={class:"modal-footer"},Oe=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"关闭",-1);function Se(s,e,a,i,l,n){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h2",null,(0,u.zw)(l.title),1),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",style:{width:"200px",display:"inline-block"},placeholder:"请输入餐品编号","onUpdate:modelValue":e[0]||(e[0]=s=>l.searchForm.foodAccount=s)},null,512),[[t.nr,l.searchForm.foodAccount,void 0,{trim:!0}]]),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",style:{width:"200px",display:"inline-block"},placeholder:"请输入餐品名称","onUpdate:modelValue":e[1]||(e[1]=s=>l.searchForm.foodName=s)},null,512),[[t.nr,l.searchForm.foodName,void 0,{trim:!0}]]),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=(...s)=>n.search&&n.search(...s))},"搜索"),(0,o._)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal",onClick:e[3]||(e[3]=(...s)=>n.showAddDialog&&n.showAddDialog(...s))}," 添加餐品 "),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...s)=>n.delMany&&n.delMany(...s))},"批量删除"),(0,o._)("table",se,[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",ee,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=s=>l.allcheck=s),checked:l.checkIds.length===n.currentPageList.length},null,8,ae),[[t.e8,l.allcheck]])]),te,oe,ie,le,ne])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.currentPageList,((s,a)=>((0,o.wg)(),(0,o.iD)("tr",{key:s.foodId},[(0,o._)("th",re,[(0,o.wy)((0,o._)("input",{type:"checkbox",checked:l.allcheck,"onUpdate:modelValue":e[6]||(e[6]=s=>l.checkIds=s),value:s.foodId},null,8,ce),[[t.e8,l.checkIds]])]),(0,o._)("th",de,(0,u.zw)(a+1),1),(0,o._)("td",null,(0,u.zw)(s.foodAccount),1),(0,o._)("td",null,(0,u.zw)(s.foodName),1),(0,o._)("td",null,"￥"+(0,u.zw)(s.foodPrice),1),(0,o._)("td",null,[(0,o._)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal",onClick:e=>n.showUpdateDialog(s.foodId)},"修改",8,ue),(0,o._)("button",{type:"button",class:"btn btn-link",onClick:e=>n.del(s.foodId,!0)},"删除",8,me)])])))),128))])]),(0,o._)("nav",pe,[(0,o._)("ul",he,[(0,o._)("li",{class:(0,u.C_)({"page-item":!0,disabled:1==l.currentPage})},[(0,o._)("a",{class:"page-link",href:"javascript:;",onClick:e[7]||(e[7]=s=>n.changeCurrentPage(l.currentPage-1))},"Previous")],2),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.totalPages,((s,e)=>((0,o.wg)(),(0,o.iD)("li",{class:(0,u.C_)({"page-item":!0,disabled:l.currentPage==s}),key:e},[(0,o._)("a",{class:"page-link",href:"javascript:;",onClick:e=>n.changeCurrentPage(s)},(0,u.zw)(s),9,be)],2)))),128)),(0,o._)("li",{class:(0,u.C_)({"page-item":!0,disabled:l.currentPage==n.totalPages})},[(0,o._)("a",{class:"page-link",href:"javascript:;",onClick:e[8]||(e[8]=s=>n.changeCurrentPage(l.currentPage+1))},"Next")],2)])]),(0,o._)("div",fe,[(0,o._)("div",ge,[(0,o._)("div",_e,[(0,o._)("div",ve,[(0,o._)("h5",we,(0,u.zw)(l.dialogTitle),1),ye]),(0,o._)("div",ke,[(0,o._)("form",null,[(0,o._)("div",Le,[Fe,(0,o._)("div",Ie,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"account","onUpdate:modelValue":e[9]||(e[9]=s=>l.foodForm.foodAccount=s)},null,512),[[t.nr,l.foodForm.foodAccount,void 0,{trim:!0}]])])]),(0,o._)("div",Ce,[Pe,(0,o._)("div",xe,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":e[10]||(e[10]=s=>l.foodForm.foodName=s)},null,512),[[t.nr,l.foodForm.foodName,void 0,{trim:!0}]])])]),(0,o._)("div",Ue,[Ne,(0,o._)("div",Ae,[(0,o.wy)((0,o._)("input",{type:"number",min:"0",class:"form-control",id:"foodprice","onUpdate:modelValue":e[11]||(e[11]=s=>l.foodForm.foodPrice=s)},null,512),[[t.nr,l.foodForm.foodPrice,void 0,{number:!0}]])])])])]),(0,o._)("div",De,[Oe,(0,o._)("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:e[12]||(e[12]=(...s)=>n.addOrUpdate&&n.addOrUpdate(...s))},(0,u.zw)(l.saveBt),1)])])])])])}a(1719);var je={name:"Food",data(){return{title:"餐品管理",currentPage:1,pageNumber:5,foodList:[],dialogTitle:"添加餐品",saveBt:"确认添加",foodForm:{foodName:"",foodAccount:"",foodPrice:0},allcheck:!1,checkIds:[],searchForm:{foodAccount:"",foodName:""},showList:[]}},watch:{allcheck(s){this.checkIds=[],s&&this.currentPageList.forEach((s=>{this.checkIds.push(s.foodId)}))}},methods:{search(){this.searchForm.foodAccount||this.searchForm.foodName?(this.showList=this.foodList.filter((s=>s.foodAccount.indexOf(this.searchForm.foodAccount)>=0&&s.foodName.indexOf(this.searchForm.foodName)>=0)),console.log(this.showList)):this.showList=this.foodList},delMany(){0!==this.checkIds.length?confirm("确定要删除这"+this.checkIds.length+"项吗？")&&this.checkIds.forEach((s=>{this.del(s,!1)})):alert("没有选中项，无法删除")},addOrUpdate(){this.foodForm.foodId?this.update():this.add(),window.localStorage.setItem("foodList",JSON.stringify(this.foodList))},showUpdateDialog(s){this.dialogTitle="修改餐品信息",this.saveBt="确认修改";let e=this.foodList.find((e=>e.foodId===s));Object.assign(this.foodForm,e),console.log(this.foodForm)},showAddDialog(){this.dialogTitle="添加餐品",this.saveBt="确认添加",this.foodForm={foodName:"",foodAccount:"",foodPrice:0}},changeCurrentPage(s){s<1||s>this.totalPages||(this.currentPage=s)},add(){let s=Object.assign({},this.foodForm);s.foodId=(0,qs.x0)(),this.foodList.unshift(s)},del(s,e){e?confirm("确定要删除吗？")&&(this.foodList=this.foodList.filter((e=>e.foodId!==s)),window.localStorage.setItem("foodList",JSON.stringify(this.foodList))):(this.foodList=this.foodList.filter((e=>e.foodId!==s)),window.localStorage.setItem("foodList",JSON.stringify(this.foodList)))},update(){this.foodList.forEach((s=>{s.foodId!==this.foodForm.foodId||Object.assign(s,this.foodForm)}))}},computed:{currentPageList(){let s=(this.currentPage-1)*this.pageNumber,e=s+this.pageNumber;return this.showList.sort((function(s,e){return console.log(s,e),e.datetime-s.datetime})),this.showList.slice(s,e)},totalRows(){return this.showList.length},totalPages(){return Math.ceil(this.totalRows/this.pageNumber)}},mounted(){let s=window.localStorage.getItem("foodList");s&&(this.foodList=JSON.parse(s),this.showList=this.foodList),this.foodList.reverse()}};const Me=(0,l.Z)(je,[["render",Se]]);var Be=Me;const Ve={class:"container"},Ee={class:"row"},ze={class:"col-md-4 col-md-offset-4",style:{margin:"0 auto"}},Re={class:"login-panel panel panel-default"},Je=(0,o._)("div",{class:"panel-heading"},[(0,o._)("h3",{class:"panel-title"},"请登录")],-1),We={class:"panel-body"},Te={role:"form"},He={class:"form-group"},Ze={class:"form-group"},Ke=(0,o._)("div",{class:"checkbox"},[(0,o._)("label",null,[(0,o._)("input",{name:"remember",type:"checkbox"}),(0,o.Uk)("记住我 ")])],-1),Ye={class:"form-group"},$e={class:"form-check form-check-inline"},qe=(0,o._)("label",{class:"form-check-label",for:"inlineRadio1"},"管理员",-1),Ge={class:"form-check form-check-inline"},Qe=(0,o._)("label",{class:"form-check-label",for:"inlineRadio2"},"商家",-1);function Xe(s,e,a,i,l,n){return(0,o.wg)(),(0,o.iD)("div",Ve,[(0,o._)("div",Ee,[(0,o._)("div",ze,[(0,o._)("div",Re,[Je,(0,o._)("div",We,[(0,o._)("form",Te,[(0,o._)("fieldset",null,[(0,o._)("div",He,[(0,o.wy)((0,o._)("input",{class:"form-control",placeholder:"用户名",type:"text",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=s=>l.loginForm.account=s)},null,512),[[t.nr,l.loginForm.account]])]),(0,o._)("div",Ze,[(0,o.wy)((0,o._)("input",{class:"form-control",placeholder:"密码",type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>l.loginForm.password=s)},null,512),[[t.nr,l.loginForm.password]])]),Ke,(0,o._)("div",Ye,[(0,o._)("div",$e,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"manager","onUpdate:modelValue":e[2]||(e[2]=s=>l.loginRole=s)},null,512),[[t.G2,l.loginRole]]),qe]),(0,o._)("div",Ge,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"business","onUpdate:modelValue":e[3]||(e[3]=s=>l.loginRole=s)},null,512),[[t.G2,l.loginRole]]),Qe])]),(0,o._)("a",{href:"javascript:;",onClick:e[4]||(e[4]=(...s)=>n.login&&n.login(...s)),class:"btn btn-lg btn-success btn-block"},"登录")])])])])])])])}var sa={name:"LoginView",data(){return{loginUsers:[{userId:1,account:"admin",password:"123456",role:"manager"},{userId:2,account:"zhangsan",password:"123456",role:"manager"}],loginForm:{account:"",password:""},loginRole:"manager"}},methods:{login(){let s=!1;if("manager"==this.loginRole)this.loginUsers.forEach((e=>{e.account==this.loginForm.account&&e.password==this.loginForm.password&&(this.$router.push("/"),window.localStorage.setItem("loginUser",JSON.stringify(e)),s=!0)}));else if("business"==this.loginRole){let e=localStorage.getItem("businessList")?JSON.parse(localStorage.getItem("businessList")):[];e.forEach((e=>{e.businessAccount==this.loginForm.account&&e.password==this.loginForm.password&&(this.$router.push("/"),window.localStorage.setItem("loginUser",JSON.stringify(e)),s=!0)}))}s||alert("用户名或密码错误，请重试")}}};const ea=(0,l.Z)(sa,[["render",Xe]]);var aa=ea;const ta=(0,o._)("h2",null,"Business Information Management",-1),oa={key:0},ia=(0,o._)("h3",null,"Edit Business Information",-1),la={class:"form-group"},na=(0,o._)("label",{for:"businessName"},"Business Name",-1),ra={class:"form-group"},ca=(0,o._)("label",{for:"businessAccount"},null,-1),da={key:1};function ua(s,e,a,i,l,n){return(0,o.wg)(),(0,o.iD)("div",null,[ta,l.isEditing?((0,o.wg)(),(0,o.iD)("div",oa,[ia,(0,o._)("form",null,[(0,o._)("div",la,[na,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"businessName","onUpdate:modelValue":e[0]||(e[0]=s=>l.businessData.businessName=s)},null,512),[[t.nr,l.businessData.businessName,void 0,{trim:!0}]])]),(0,o._)("div",ra,[ca,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"businessAccount","onUpdate:modelValue":e[1]||(e[1]=s=>l.businessData.businessAccount=s)},null,512),[[t.nr,l.businessData.businessAccount,void 0,{trim:!0}]])]),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=(...s)=>n.updateBusiness&&n.updateBusiness(...s))},"Save Changes"),(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=(...s)=>n.cancelEditing&&n.cancelEditing(...s))},"Cancel")])])):((0,o.wg)(),(0,o.iD)("div",da,[(0,o._)("button",{onClick:e[4]||(e[4]=s=>n.editBusiness(l.businessData))},"Edit Business")]))])}var ma={name:"BusinessManagement",data(){return{businessData:{businessAccount:"",businessName:""},isEditing:!1}},methods:{editBusiness(s){this.businessData={...s},this.isEditing=!0},updateBusiness(){this.isEditing=!1},cancelEditing(){this.isEditing=!1,this.businessData={...this.businessData}}}};const pa=(0,l.Z)(ma,[["render",ua]]);var ha=pa;function ba(s,e,a,t,i,l){return(0,o.wg)(),(0,o.iD)("h2",null,"暂未开通该服务！")}var fa={};const ga=(0,l.Z)(fa,[["render",ba]]);var _a=ga;const va=[{path:"/",name:"home",component:G,children:[{path:"/",redirect:"/welcome"},{path:"/welcome",name:"welcome",component:as},{path:"/business",name:"business",component:Xs},{path:"/food",name:"food",component:Be},{path:"/editbusiness",name:"editbusiness",component:ha},{path:"/temp",name:"temp",component:_a}]},{path:"/login",name:"login",component:aa}],wa=(0,d.p7)({history:(0,d.r5)(),routes:va});var ya=wa,ka=a(65),La=(0,ka.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,t.ri)(c).use(La).use(ya).mount("#app"),ya.beforeEach(((s,e,a)=>{console.log("------进入路由守卫------");let t=JSON.parse(localStorage.getItem("loginUser"));"/login"!=s.path&&(t||ya.push({path:"/login"})),a()}))}},e={};function a(t){var o=e[t];if(void 0!==o)return o.exports;var i=e[t]={exports:{}};return s[t].call(i.exports,i,i.exports,a),i.exports}a.m=s,function(){var s=[];a.O=function(e,t,o,i){if(!t){var l=1/0;for(d=0;d<s.length;d++){t=s[d][0],o=s[d][1],i=s[d][2];for(var n=!0,r=0;r<t.length;r++)(!1&i||l>=i)&&Object.keys(a.O).every((function(s){return a.O[s](t[r])}))?t.splice(r--,1):(n=!1,i<l&&(l=i));if(n){s.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=s.length;d>0&&s[d-1][2]>i;d--)s[d]=s[d-1];s[d]=[t,o,i]}}(),function(){a.n=function(s){var e=s&&s.__esModule?function(){return s["default"]}:function(){return s};return a.d(e,{a:e}),e}}(),function(){a.d=function(s,e){for(var t in e)a.o(e,t)&&!a.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:e[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"===typeof window)return window}}()}(),function(){a.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)}}(),function(){a.p=""}(),function(){var s={143:0};a.O.j=function(e){return 0===s[e]};var e=function(e,t){var o,i,l=t[0],n=t[1],r=t[2],c=0;if(l.some((function(e){return 0!==s[e]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(r)var d=r(a)}for(e&&e(t);c<l.length;c++)i=l[c],a.o(s,i)&&s[i]&&s[i][0](),s[i]=0;return a.O(d)},t=self["webpackChunkeleme1101"]=self["webpackChunkeleme1101"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(2589)}));t=a.O(t)})();
//# sourceMappingURL=app.b9f3ebde.js.map